{"ast":null,"code":"var _jsxFileName = \"/Users/Sarah Schwartz/Desktop/CODING/Apps REACT/pinterest-clone-react-redux/pinterest-clone-react-redux/client/src/components/GoogleAuth.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux'; // import { signIn, signOut } from '../actions';\n\nclass GoogleAuth extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.onAuthChange = isSignedIn => {\n      // Called any time the user's authentication status changes to update state\n      if (isSignedIn) {\n        const userId = this.auth.currentUser.get().getId(); // Sign in action (as opposed to auth's build in sign in)\n\n        this.props.signIn(userId);\n      } else {\n        // Sign out action (as opposed to auth's build in sign out)\n        this.props.signOut();\n      }\n    };\n\n    this.signInClick = () => {\n      // Google auth's built in sign in fx\n      this.auth.signIn();\n    };\n\n    this.signInClick = () => {\n      // Google auth's built in sign out fx\n      this.auth.signOut();\n    };\n\n    this.renderAuthButton = () => {\n      if (this.props.isSignedIn === null) {\n        // No information yet on sign in status\n        return null;\n      } else if (this.props.isSignedIn) {\n        // User is signed in\n        return /*#__PURE__*/React.createElement(\"button\", {\n          className: \"ui blue google button\",\n          onClick: this.signOutClick,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 9\n          }\n        }, \"Sign Out\");\n      } else {\n        // User is signed out\n\n        /*#__PURE__*/\n        React.createElement(\"button\", {\n          className: \"ui green google button\",\n          onClick: this.signInClick,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 7\n          }\n        }, \"Sign In with Google\");\n      }\n    };\n  }\n\n  componentDidMount() {\n    window.gapi.load('client:auth2', () => {\n      window.gapi.client.init({\n        clientId: `1003914086545-dkgl55o815ilth897itbhdtimgaenigr.apps.googleusercontent.com`,\n        scope: 'email'\n      }).then(() => {\n        this.auth = window.gapi.auth2.getAuthInstance(); // Update store based on whether user is signed in\n\n        this.onAuthChange(this.auth.isSignedIn.get()); // Listen for signed in status to change and update store\n\n        this.auth.isSignedIn.listen(this.onAuthChange);\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 12\n      }\n    }, this.renderAuthButton());\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    isSignedIn: state.auth.isSignedIn\n  };\n};\n\nexport default connect(mapStateToProps, {\n  signIn,\n  signOut\n})(GoogleAuth);","map":{"version":3,"sources":["/Users/Sarah Schwartz/Desktop/CODING/Apps REACT/pinterest-clone-react-redux/pinterest-clone-react-redux/client/src/components/GoogleAuth.js"],"names":["React","Component","connect","GoogleAuth","onAuthChange","isSignedIn","userId","auth","currentUser","get","getId","props","signIn","signOut","signInClick","renderAuthButton","signOutClick","componentDidMount","window","gapi","load","client","init","clientId","scope","then","auth2","getAuthInstance","listen","render","mapStateToProps","state"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB,C,CACA;;AAEA,MAAMC,UAAN,SAAyBF,SAAzB,CAAmC;AAAA;AAAA;;AAAA,SAkBjCG,YAlBiC,GAkBjBC,UAAD,IAAgB;AAC7B;AACA,UAAIA,UAAJ,EAAgB;AACd,cAAMC,MAAM,GAAG,KAAKC,IAAL,CAAUC,WAAV,CAAsBC,GAAtB,GAA4BC,KAA5B,EAAf,CADc,CAEd;;AACA,aAAKC,KAAL,CAAWC,MAAX,CAAkBN,MAAlB;AACD,OAJD,MAIO;AACL;AACA,aAAKK,KAAL,CAAWE,OAAX;AACD;AACF,KA5BgC;;AAAA,SA8BjCC,WA9BiC,GA8BnB,MAAM;AAClB;AACA,WAAKP,IAAL,CAAUK,MAAV;AACD,KAjCgC;;AAAA,SAmCjCE,WAnCiC,GAmCnB,MAAM;AAClB;AACA,WAAKP,IAAL,CAAUM,OAAV;AACD,KAtCgC;;AAAA,SAwCjCE,gBAxCiC,GAwCd,MAAM;AACvB,UAAI,KAAKJ,KAAL,CAAWN,UAAX,KAA0B,IAA9B,EAAoC;AAClC;AACA,eAAO,IAAP;AACD,OAHD,MAGO,IAAI,KAAKM,KAAL,CAAWN,UAAf,EAA2B;AAChC;AACA,4BACE;AAAQ,UAAA,SAAS,EAAC,uBAAlB;AAA0C,UAAA,OAAO,EAAE,KAAKW,YAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF;AAKD,OAPM,MAOA;AACL;;AACA;AAAA;AAAQ,UAAA,SAAS,EAAC,wBAAlB;AAA2C,UAAA,OAAO,EAAE,KAAKF,WAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGD;AACF,KAzDgC;AAAA;;AACjCG,EAAAA,iBAAiB,GAAG;AAClBC,IAAAA,MAAM,CAACC,IAAP,CAAYC,IAAZ,CAAiB,cAAjB,EAAiC,MAAM;AACrCF,MAAAA,MAAM,CAACC,IAAP,CAAYE,MAAZ,CACGC,IADH,CACQ;AACJC,QAAAA,QAAQ,EAAG,2EADP;AAEJC,QAAAA,KAAK,EAAE;AAFH,OADR,EAKGC,IALH,CAKQ,MAAM;AACV,aAAKlB,IAAL,GAAYW,MAAM,CAACC,IAAP,CAAYO,KAAZ,CAAkBC,eAAlB,EAAZ,CADU,CAEV;;AACA,aAAKvB,YAAL,CAAkB,KAAKG,IAAL,CAAUF,UAAV,CAAqBI,GAArB,EAAlB,EAHU,CAIV;;AACA,aAAKF,IAAL,CAAUF,UAAV,CAAqBuB,MAArB,CAA4B,KAAKxB,YAAjC;AACD,OAXH;AAYD,KAbD;AAcD;;AA2CDyB,EAAAA,MAAM,GAAG;AACP,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAM,KAAKd,gBAAL,EAAN,CAAP;AACD;;AA7DgC;;AAgEnC,MAAMe,eAAe,GAAIC,KAAD,IAAW;AACjC,SAAO;AACL1B,IAAAA,UAAU,EAAE0B,KAAK,CAACxB,IAAN,CAAWF;AADlB,GAAP;AAGD,CAJD;;AAMA,eAAeH,OAAO,CAAC4B,eAAD,EAAkB;AAAElB,EAAAA,MAAF;AAAUC,EAAAA;AAAV,CAAlB,CAAP,CAA8CV,UAA9C,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n// import { signIn, signOut } from '../actions';\n\nclass GoogleAuth extends Component {\n  componentDidMount() {\n    window.gapi.load('client:auth2', () => {\n      window.gapi.client\n        .init({\n          clientId: `1003914086545-dkgl55o815ilth897itbhdtimgaenigr.apps.googleusercontent.com`,\n          scope: 'email',\n        })\n        .then(() => {\n          this.auth = window.gapi.auth2.getAuthInstance();\n          // Update store based on whether user is signed in\n          this.onAuthChange(this.auth.isSignedIn.get());\n          // Listen for signed in status to change and update store\n          this.auth.isSignedIn.listen(this.onAuthChange);\n        });\n    });\n  }\n\n  onAuthChange = (isSignedIn) => {\n    // Called any time the user's authentication status changes to update state\n    if (isSignedIn) {\n      const userId = this.auth.currentUser.get().getId();\n      // Sign in action (as opposed to auth's build in sign in)\n      this.props.signIn(userId);\n    } else {\n      // Sign out action (as opposed to auth's build in sign out)\n      this.props.signOut();\n    }\n  };\n\n  signInClick = () => {\n    // Google auth's built in sign in fx\n    this.auth.signIn();\n  };\n\n  signInClick = () => {\n    // Google auth's built in sign out fx\n    this.auth.signOut();\n  };\n\n  renderAuthButton = () => {\n    if (this.props.isSignedIn === null) {\n      // No information yet on sign in status\n      return null;\n    } else if (this.props.isSignedIn) {\n      // User is signed in\n      return (\n        <button className='ui blue google button' onClick={this.signOutClick}>\n          Sign Out\n        </button>\n      );\n    } else {\n      // User is signed out\n      <button className='ui green google button' onClick={this.signInClick}>\n        Sign In with Google\n      </button>;\n    }\n  };\n\n  render() {\n    return <div>{this.renderAuthButton()}</div>;\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isSignedIn: state.auth.isSignedIn,\n  };\n};\n\nexport default connect(mapStateToProps, { signIn, signOut })(GoogleAuth);\n"]},"metadata":{},"sourceType":"module"}